{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jordan.Liebe\\\\Repos\\\\QandA\\\\frontend\\\\src\\\\Form.tsx\";\nimport { useState, createContext } from 'react';\nimport { PrimaryButton, gray5, gray6 } from './Styles';\n/** @jsx jsx */\n\nimport { css, jsx } from '@emotion/core';\nexport const FormContext = createContext({\n  values: {}\n});\nexport const required = value => value === undefined || value === null || value === '' ? 'This must be populated' : '';\nexport const minLength = (value, length) => value && value.length < length ? `This must be at least ${length} characters` : '';\nexport const Form = ({\n  submitCaption,\n  children,\n  validationRules\n}) => {\n  const [values, setValues] = useState({});\n  return jsx(FormContext.Provider, {\n    value: {\n      values,\n      setValue: (fieldName, value) => {\n        setValues({ ...values,\n          [fieldName]: value\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, jsx(\"form\", {\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, jsx(\"fieldset\", {\n    css: css`\n            margin: 10px auto 0 auto;\n            padding: 30px;\n            width: 350px;\n            background-color: ${gray6};\n            border-radius: 4px;\n            border: 1px solid ${gray5};\n            box-shadow: 0 3px 5px 0 rgba(0, 0, 0, 0.16);\n          `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, children, jsx(\"div\", {\n    css: css`\n              margin: 30px 0px 0px 0px;\n              padding: 20px 0px 0px 0px;\n              border-top: 1px solid ${gray5};\n            `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, jsx(PrimaryButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, submitCaption)))));\n};","map":{"version":3,"sources":["C:/Users/Jordan.Liebe/Repos/QandA/frontend/src/Form.tsx"],"names":["useState","createContext","PrimaryButton","gray5","gray6","css","jsx","FormContext","values","required","value","undefined","minLength","length","Form","submitCaption","children","validationRules","setValues","setValue","fieldName"],"mappings":";AAAA,SAAoBA,QAApB,EAA8BC,aAA9B,QAAmD,OAAnD;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,KAA/B,QAA4C,UAA5C;AACA;;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,eAAzB;AAoBA,OAAO,MAAMC,WAAW,GAAGN,aAAa,CAAmB;AAAEO,EAAAA,MAAM,EAAE;AAAV,CAAnB,CAAjC;AAIP,OAAO,MAAMC,QAAmB,GAAIC,KAAD,IACjCA,KAAK,KAAKC,SAAV,IAAuBD,KAAK,KAAK,IAAjC,IAAyCA,KAAK,KAAK,EAAnD,GACI,wBADJ,GAEI,EAHC;AAKP,OAAO,MAAME,SAAoB,GAAG,CAACF,KAAD,EAAaG,MAAb,KAClCH,KAAK,IAAIA,KAAK,CAACG,MAAN,GAAeA,MAAxB,GACK,yBAAwBA,MAAO,aADpC,GAEI,EAHC;AAcP,OAAO,MAAMC,IAAe,GAAG,CAAC;AAC9BC,EAAAA,aAD8B;AAE9BC,EAAAA,QAF8B;AAG9BC,EAAAA;AAH8B,CAAD,KAIzB;AACJ,QAAM,CAACT,MAAD,EAASU,SAAT,IAAsBlB,QAAQ,CAAS,EAAT,CAApC;AACA,SACE,IAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE;AACLQ,MAAAA,MADK;AAELW,MAAAA,QAAQ,EAAE,CAACC,SAAD,EAAoBV,KAApB,KAAmC;AAC3CQ,QAAAA,SAAS,CAAC,EAAE,GAAGV,MAAL;AAAa,WAACY,SAAD,GAAaV;AAA1B,SAAD,CAAT;AACD;AAJI,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE;AAAM,IAAA,UAAU,EAAE,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,GAAG,EAAEL,GAAI;;;;gCAIaD,KAAM;;gCAEND,KAAM;;WAP9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWGa,QAXH,EAYE;AACE,IAAA,GAAG,EAAEX,GAAI;;;sCAGiBF,KAAM;aAJlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,IAAC,aAAD;AAAe,IAAA,IAAI,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BY,aAA9B,CAPF,CAZF,CADF,CARF,CADF;AAmCD,CAzCM","sourcesContent":["import React, { FC, useState, createContext } from 'react';\r\nimport { PrimaryButton, gray5, gray6 } from './Styles';\r\n/** @jsx jsx */\r\nimport { css, jsx } from '@emotion/core';\r\n\r\nexport interface Values {\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface Errors {\r\n  [key: string]: string[];\r\n}\r\n\r\ninterface FormContextProps {\r\n  values: Values;\r\n  setValue?: (fieldName: string, value: any) => void;\r\n}\r\n\r\ninterface Props {\r\n  submitCaption?: string;\r\n  validationRules?: ValidationProp;\r\n}\r\n\r\nexport const FormContext = createContext<FormContextProps>({ values: {} });\r\n\r\ntype Validator = (value: any, args?: any) => string;\r\n\r\nexport const required: Validator = (value: any): string =>\r\n  value === undefined || value === null || value === ''\r\n    ? 'This must be populated'\r\n    : '';\r\n\r\nexport const minLength: Validator = (value: any, length: number): string =>\r\n  value && value.length < length\r\n    ? `This must be at least ${length} characters`\r\n    : '';\r\n\r\ninterface Validation {\r\n  validator: Validator;\r\n  arg?: any;\r\n}\r\n\r\ninterface ValidationProp {\r\n  [key: string]: Validation | Validation[];\r\n}\r\n\r\nexport const Form: FC<Props> = ({\r\n  submitCaption,\r\n  children,\r\n  validationRules,\r\n}) => {\r\n  const [values, setValues] = useState<Values>({});\r\n  return (\r\n    <FormContext.Provider\r\n      value={{\r\n        values,\r\n        setValue: (fieldName: string, value: any) => {\r\n          setValues({ ...values, [fieldName]: value });\r\n        },\r\n      }}\r\n    >\r\n      <form noValidate={true}>\r\n        <fieldset\r\n          css={css`\r\n            margin: 10px auto 0 auto;\r\n            padding: 30px;\r\n            width: 350px;\r\n            background-color: ${gray6};\r\n            border-radius: 4px;\r\n            border: 1px solid ${gray5};\r\n            box-shadow: 0 3px 5px 0 rgba(0, 0, 0, 0.16);\r\n          `}\r\n        >\r\n          {children}\r\n          <div\r\n            css={css`\r\n              margin: 30px 0px 0px 0px;\r\n              padding: 20px 0px 0px 0px;\r\n              border-top: 1px solid ${gray5};\r\n            `}\r\n          >\r\n            <PrimaryButton type=\"submit\">{submitCaption}</PrimaryButton>\r\n          </div>\r\n        </fieldset>\r\n      </form>\r\n    </FormContext.Provider>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}